{"version":3,"file":"static/js/57.726ca4b0.chunk.js","mappings":"qQAwBA,MArBA,YAAgC,IAAXA,EAAU,EAAVA,OACXC,GAAWC,EAAAA,EAAAA,MAEnB,OACE,iCACE,wBAAI,qBACJ,wBACGF,EAAOG,KAAI,YAA0B,IAAvBC,EAAsB,EAAtBA,GAAIC,EAAkB,EAAlBA,MAAOC,EAAW,EAAXA,KACxB,OACE,yBACE,SAAC,KAAD,CAAMC,GAAE,UAAKH,GAAMI,MAAO,CAAEC,KAAMR,GAAlC,SACGI,GAASC,KAFLF,EAMZ,QAIR,E,2BCgED,MA/EA,WACE,OAA0BM,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAA4BJ,EAAAA,EAAAA,UAAS,IAArC,eAAOV,EAAP,KAAee,EAAf,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KAwCA,OAtCAC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAQH,EAAaI,IAAI,UAC/BT,EAASQ,GAAS,GACnB,GAAE,CAACH,KASJE,EAAAA,EAAAA,YAAU,WACR,IAAMG,EAAO,mCAAG,uFACTX,EADS,wDAIdG,GAAW,GACXC,EAAU,IALI,mBAOWQ,EAAAA,EAAAA,IAAS,CAC9BC,MAAOC,EAAAA,GAAAA,OACPL,MAAOT,IATG,UAYoB,KAL1Be,EAPM,QAYCC,QAAQC,OAZT,wBAaVd,GAAW,GAbD,kBAcHe,EAAAA,GAAAA,KAAW,kDAdR,QAgBZd,GAAU,OAAIW,EAASC,UACvBb,GAAW,GAjBC,kDAmBZe,EAAAA,GAAAA,MAAY,KAAMC,SAnBN,0DAAH,qDAsBbR,GACD,GAAE,CAACX,KAGF,4BACE,wBAAI,YACJ,kBAAMoB,UAAU,OAAOC,SApCN,SAAAC,GACnBA,EAAEC,iBACF,IAAMd,EAAQa,EAAEE,OAAOxB,MAAMyB,MAC7BxB,EAASQ,GACTF,EAAgB,CAACmB,OAAQjB,GAC1B,EA+BG,WACE,kBACEW,UAAU,QACVO,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,gBACZnC,KAAK,WAEP,mBAAQgC,KAAK,SAASP,UAAU,SAAhC,UACE,iBAAMA,UAAU,eAAhB,SAA+B,gBAGlClB,IACC,SAAC,KAAD,CACE6B,OAAO,KACPC,MAAM,KACNC,UAAU,uBACVC,aAAc,CACZC,QAAS,QACTC,OAAQ,UAEVC,aAAa,uBACbC,YAAY,UACZC,SAAS,YAGZlD,EAAO4B,OAAS,IAAK,SAAC,EAAD,CAAW5B,OAAQA,MAG9C,C","sources":["components/pages/movies/MovieList.jsx","components/pages/movies/Movies.jsx"],"sourcesContent":["import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\n\nfunction MovieList({ movies }) {\n    const location = useLocation();\n\n  return (\n    <>\n      <h1> Search Results</h1>\n      <ul>\n        {movies.map(({ id, title, name }) => {\n          return (\n            <li key={id}>\n              <Link to={`${id}`} state={{ from: location }}>\n                {title || name}\n              </Link>\n            </li>\n          );\n        })}\n      </ul>\n    </>\n  );\n}\n\nexport default MovieList;\n","import React, { useEffect, useState } from 'react';\nimport MovieList from './MovieList';\nimport { ProgressBar } from 'react-loader-spinner';\nimport fetchApi, { apiRefs } from 'utilities/api-service';\nimport { toast } from 'react-toastify';\nimport { useSearchParams } from 'react-router-dom';\n\nfunction Movies() {\n  const [input, setInput] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [movies, setMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n\n  useEffect(() => {\n    const query = searchParams.get('search');\n    setInput(query || '');\n  }, [searchParams]);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const query = e.target.input.value;\n    setInput(query);\n    setSearchParams({search: query});\n  };\n\n  useEffect(() => {\n    const getData = async () => {\n      if (!input) {\n        return;\n      }\n      setLoading(true);\n      setMovies([]);\n      try {\n        const response = await fetchApi({\n          param: apiRefs.SEARCH,\n          query: input,\n        });\n\n        if (response.results.length === 0) {\n          setLoading(false);\n          return toast.info('Sorry no images were found per your request..');\n        }\n        setMovies([...response.results]);\n        setLoading(false);\n      } catch (error) {\n        toast.error(error.message);\n      }\n    };\n    getData();\n  }, [input]);\n\n  return (\n    <div>\n      <h2>Movies</h2>\n      <form className=\"form\" onSubmit={handleSubmit}>\n        <input\n          className=\"input\"\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search movies\"\n          name=\"input\"\n        />\n        <button type=\"submit\" className=\"button\">\n          <span className=\"button-label\">Search</span>\n        </button>\n      </form>\n      {loading && (\n        <ProgressBar\n          height=\"80\"\n          width=\"80\"\n          ariaLabel=\"progress-bar-loading\"\n          wrapperStyle={{\n            display: 'block',\n            margin: '0 auto',\n          }}\n          wrapperClass=\"progress-bar-wrapper\"\n          borderColor=\"#F4442E\"\n          barColor=\"#3f51b5\"\n        />\n      )}\n      {movies.length > 0 && <MovieList movies={movies}></MovieList>}\n    </div>\n  );\n}\n\nexport default Movies;\n"],"names":["movies","location","useLocation","map","id","title","name","to","state","from","useState","input","setInput","loading","setLoading","setMovies","useSearchParams","searchParams","setSearchParams","useEffect","query","get","getData","fetchApi","param","apiRefs","response","results","length","toast","message","className","onSubmit","e","preventDefault","target","value","search","type","autoComplete","autoFocus","placeholder","height","width","ariaLabel","wrapperStyle","display","margin","wrapperClass","borderColor","barColor"],"sourceRoot":""}